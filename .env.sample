# ==============================================
# AI Chat Platform - Environment Configuration
# ==============================================
# Copy this file to .env and fill in your actual values
# Never commit .env files to version control

# ==============================================
# DATABASE CONFIGURATION
# ==============================================

# Supabase Configuration (Primary Database)
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key

# Database Connection (if using direct PostgreSQL)
DATABASE_URL=postgresql://username:password@localhost:5432/ai_chat_platform
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ai_chat_platform
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_SSL=true

# ==============================================
# REDIS CONFIGURATION
# ==============================================

# Redis for caching and session management
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Redis Connection Options
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000
REDIS_CONNECT_TIMEOUT=10000

# ==============================================
# VECTOR DATABASE (QDRANT)
# ==============================================

# Qdrant for RAG and vector search
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your_qdrant_api_key
QDRANT_COLLECTION_NAME=ai_chat_vectors

# ==============================================
# AI MODEL CONFIGURATION
# ==============================================

# OpenAI API Keys (Multiple tiers for cost optimization)
OPENAI_API_KEY=sk-your-main-openai-api-key
FREE_MODEL_API_KEY=sk-your-free-tier-api-key
PAID_CHEAP_MODEL_API_KEY=sk-your-cheap-model-api-key
PAID_EXPENSIVE_MODEL_API_KEY=sk-your-expensive-model-api-key

# Model Configuration
DEFAULT_MODEL=gpt-4
FREE_TIER_MODEL=gpt-3.5-turbo
CHEAP_MODEL=gpt-4-turbo
EXPENSIVE_MODEL=gpt-4

# Optional: Lightweight router classifier model (used for {D,O} classification)
# If not set, the backend defaults to 'gpt-5-nano'
NANO_ROUTER_MODEL=gpt-5-nano

# Model Limits
MAX_TOKENS_FREE=1000
MAX_TOKENS_PAID=4000
TEMPERATURE=0.7

# ==============================================
# AUTHENTICATION & SECURITY
# ==============================================

# JWT Configuration (if using custom JWT - recommend Supabase Auth only)
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-key
SESSION_MAX_AGE=86400000

# OAuth Provider Configuration (Configure in Supabase Dashboard)
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# ==============================================
# PAYMENT PROCESSING (STRIPE)
# ==============================================

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe Price IDs (Create these in Stripe Dashboard)
STRIPE_PRICE_FREE=price_free_plan_id
STRIPE_PRICE_PLUS_MONTHLY=price_plus_monthly_id
STRIPE_PRICE_PLUS_YEARLY=price_plus_yearly_id
STRIPE_PRICE_PRO_MONTHLY=price_pro_monthly_id
STRIPE_PRICE_PRO_YEARLY=price_pro_yearly_id

# ==============================================
# APPLICATION CONFIGURATION
# ==============================================

# Server Configuration
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:5000

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# API Configuration
API_VERSION=v1
API_PREFIX=/api
API_RATE_LIMIT=100
API_RATE_WINDOW=900000

# ==============================================
# FILE UPLOAD & STORAGE
# ==============================================

# Cloudinary (for image uploads)
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# File Upload Limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ==============================================
# MONITORING & LOGGING
# ==============================================

# Sentry (Error Monitoring)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=1.0.0

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ==============================================
# EMAIL CONFIGURATION
# ==============================================

# Email Service (for notifications)
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=noreply@your-domain.com

# ==============================================
# DEVELOPMENT TOOLS
# ==============================================

# Swagger Documentation (dev only)
SWAGGER_ENABLED=true
SWAGGER_PATH=/api-docs

# Performance Monitoring (dev only)
PERF_MONITORING_ENABLED=true

# Debug Configuration
DEBUG=app:*
VERBOSE_LOGGING=false

# ==============================================
# FEATURE FLAGS
# ==============================================

# Feature toggles
ENABLE_CHAT_HISTORY=true
ENABLE_FILE_UPLOAD=true
ENABLE_VOICE_INPUT=false
ENABLE_IMAGE_GENERATION=true
ENABLE_DIAGRAM_GENERATION=true
ENABLE_ANALYTICS=true

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# CACHE CONFIGURATION
# ==============================================

# Cache TTL Settings (in seconds)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600
CACHE_TTL_SESSION=86400

# Cache Keys Prefix
CACHE_PREFIX=ai_chat:

# ==============================================
# SECURITY CONFIGURATION
# ==============================================

# Security Headers
HELMET_ENABLED=true
CSP_ENABLED=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# CSRF Protection
CSRF_ENABLED=true
CSRF_COOKIE_NAME=_csrf

# ==============================================
# TESTING CONFIGURATION
# ==============================================

# Test Database
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/ai_chat_test
TEST_REDIS_URL=redis://localhost:6380

# Test API Keys (use test keys only)
TEST_OPENAI_API_KEY=sk-test-your-test-api-key
TEST_STRIPE_SECRET_KEY=sk_test_your-test-stripe-key

# ==============================================
# PRODUCTION OVERRIDES
# ==============================================
# These should be set in production environment
# NODE_ENV=production
# LOG_LEVEL=warn
# SWAGGER_ENABLED=false
# PERF_MONITORING_ENABLED=false
# DEBUG=false
# VERBOSE_LOGGING=false